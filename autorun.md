For Windows there is a tutorial here https://www.groovypost.com/howto/automatically-run-script-on-internet-connect-network-connection-drop/

Just put the py file into there

---
for linux you could try some of the answers https://askubuntu.com/questions/258580/how-to-run-a-script-depending-on-internet-connection